\chapter{Solutions for Chapter 2}

\ex{2.1}
In order to solve this problem, many assumptions must be made.
Different people may assume slightly different values for parameters.
This is OK.
What is important is making good assumptions and checking our conclusions to make sure they are reasonable.

To solve for the current in the LED, let us assume we know the LED is red, so it follows the red LED curve from Figure 2.8 in the book.
Let us also assume the transistor is acting like a closed switch, so the collector voltage of Q1 is close to \SI{0}{\V}.
Let us also assume the LED is ON, so it's voltage is approximately $V_\text{LED} = \SI{2}{V}$. From the preceding assumptions, we can calculate that the LED current is
\[I_\text{LED} = \frac{\SI{3.3}{\V} - \SI{2}{\V}}{\SI{330}{\ohm}} = \frac{\SI{1.3}{\V}}{\SI{330}{\ohm}} \approx \SI{3.94}{\mA}\]
If we use Figure 2.8 (from the textbook) to check our numbers, we see that a current of \SI{3.94}{\mA} roughly correlates to an LED voltage of $V_\text{LED} = \SI{1.7}{V}$.  We will run the same calculation again to reduce our error.
\[I^{*}_\text{LED} = \frac{\SI{3.3}{\V} - \SI{1.7}{\V}}{\SI{330}{\ohm}} = \frac{\SI{1.6}{\V}}{\SI{330}{\ohm}} \approx \mans{\SI{4.85}{\mA}}\]

In order to determine the minimum current gain required from our transistor, we must calculate the base current.
Let us assume we know the base-emitter voltage $V_\text{BE} = \SI{0.6}{\V}$.
Therefore
\[I_\text{B} = \frac{\SI{3.3}{\V} - \SI{0.6}{\V}}{\SI{10}{\kohm}} = \SI{270}{\uA}\]
So the minimum current gain must be
\[\beta_\text{min} = \frac{I^{*}_\text{LED}}{I_\text{B}} \approx \frac{\SI{4.85}{\mA}}{\SI{270}{\uA}} \approx \mans{18.0}\]


\ex{2.2}
When $Q_1$ goes is brought in saturation, the base voltage of $Q_2$ equals the opposite of the voltage on the capacitor $C_1$ at $t = \SI{0}{\second}$, $V_0 = \SI{4.4}{\volt}$ and $Q_2$ is then cutoff. $V_\text{out}$ will be equal to \SI{5}{\volt} until $Q_2$ is brought in saturation again. This happens when its base voltage gets higher or equal to the $Q_2$ threshold voltage (\SI{0.6}{\volt}). As soon as $Q_1$ is brought in saturation, $C_1$ starts to discharge into the resistor $R_3$ and the equivalent circuit, valid until $Q_2$ is cutoff, is then:
\begin{circuit}{fig:2.2.1}{Equivalent $C_1$ discharging circuit.}
    (0,0) node[ground] {}
    to[C, l=$C_1$,v=$V_\text{C}$] ++(0,2)
    to[R, l=$R_3$] ++(2.5,0)
    node[above] {+\SI{5}{\volt}} node[ocirc] {}
\end{circuit}
The time evolution of the voltage across the capacitor $C_1$ is given by:
\[V_\text{C}(t)=\left(V_0-V_\infty\right)e^{-\frac{t}{R_3C_1}}+V_\infty\]
where $V_\infty$ is the steady-state voltage on the capacitor $C_1$ end equals \SI{-5}{\volt}. Given the considerations above, we have that $V_C(t=T_\text{pulse})=\SI{-0.6}{\volt}$. Solving for $t$ gives:
\[T_\text{pulse}=-R_3C_1\ln\left(\frac{\SI{-0.6}{\volt}-V_\infty}{{V_0-V_\infty}}\right)=\mans{0.76R_3C_1=\SI{76}{\micro\second}}\]


\ex{2.3}
The output voltage is now influenced by $R_5$ that goes in series with $R_4$, and by the $V_\text{BE}$ of $Q_3$ which is equal to \SI{0.6}{\volt} when the transistor is in saturation. Therefore:
\[V_\text{out}=\frac{R_5}{R_5+R_4}\left(\SI{5}{\volt}-\SI{0.6}{\volt}\right)+\SI{0.6}{\volt}=\mans{\SI{4.79}{\volt}}\]

The minimum value of $\beta$ of $Q_3$ can be obtained looking at the maximum value of the current flowing through the collector of $Q_3$, $I_\text{c}^{\text{Q}_3}$. As soon as $Q_1$ goes in saturation, the capacitor $C_1$ starts to discharge and its current is given by $C_1dV_\text{C}/dt$. With reference to the variables introduced in the previous exercise (2.2):
\[I_\text{c}^{\text{Q}_3}(t)=\frac{\SI{5}{\volt}}{R_2}-I_{\text{C}_1}(t)=\frac{\SI{5}{\volt}}{R_2}+C_1\frac{1}{R_3C_1}\left(V_0-V_\infty\right)e^{-\frac{t}{R_3C_1}}\]
Therefore:
\[\beta_\text{min}=\frac{I_\text{c}^{\text{Q}_3}(t)|_\text{max}}{I_\text{b}^{\text{Q}_3}}=\frac{I_\text{c}^{\text{Q}_3}(t=\SI{0}{\second})}{I_\text{b}^{\text{Q}_3}}=\mans{27}\]


\ex{2.4}
\begin{circuit}{fig:2.4.1}{Emitter follower circuit used for computing the output resistance}
    (0,0) node[npn] (Q) {Q}
    (Q.B) to[short, i_<=$i_\text{b}$] ++(-1,0) -- ++(0,-.5) 
    to[R, l=$R_\text{S}$, v=$v_\text{Rs}$] ++(0,-2)
    node[ground] {}
    (Q.C) to[short, i_<=$i_\text{c}$] ++(0,.5) node[ground, rotate=180] {}
    (Q.E) to[short, i_>=$i_\text{e}$] ++(0,-.5) coordinate(RE)
    to[R, l=$R_\text{E}$,i=$i_\text{Re}$] ++(0,-2)
    node[ground] {}
    (RE) -- ++(3,0)
    to[I, l=$i_\text{out}$, invert, v_>=$v_\text{out}$] ++(0,-2)
    node[ground] {}
\end{circuit}

Applying the KCL on the Q transistor:
\[i_\text{e}=i_\text{b}+i_\text{c}=i_\text{b}\left(\beta+1\right)\]
The current flowing through the emitter resistor $R_\text{E}$ is equal to:
\[i_\text{Re}=i_\text{e}+i_\text{out}=i_\text{b}\left(\beta+1\right)+i_\text{out}\]
Since for the emitter follower $v_\text{Rs}=v_\text{out}$:
\[\left[i_\text{b}\left(\beta+1\right)+i_\text{out}\right]R_\text{E}=v_\text{out}\]
Since:
\[i_\text{b}=-\frac{v_\text{Rs}}{R_\text{S}}=-\frac{v_\text{out}}{R_\text{S}}\]
we can write:
\[\left[-\frac{v_\text{out}}{R_\text{S}}\left(\beta+1\right)+i_\text{out}\right]R_\text{E}=v_\text{out}\]
Therefore:
\[R_\text{out}=\frac{v_\text{out}}{i_\text{out}}=\frac{R_\text{E}R_\text{S}}{R_\text{S}+\left(\beta+1\right)R_\text{E}}\]
If $R_\text{E}>>R_\text{S}$:
\[\mans{R_\text{out}\approx\frac{R_\text{S}}{\left(\beta+1\right)}}\]


\todoex{2.5}

\todoex{2.6}

\todoex{2.7}

\todoex{2.8}

\todoex{2.9}

\todoex{2.10}

\todoex{2.11}

\todoex{2.12}

\todoex{2.13}

\todoex{2.14}

\todoex{2.15}

\todoex{2.16}

\todoex{2.17}

\todoex{2.18}

\todoex{2.19}

\todoex{2.20}

\todoex{2.21}

\todoex{2.22}

\todoex{2.23}

\todoex{2.24}

\todoex{2.25}

\todoex{2.26}

\todoex{2.27}

\todoex{2.28}

\todoex{2.29}

\todoex{2.30}  % the last Exercise in chapter 2.

% Here ends Chapter 2.
