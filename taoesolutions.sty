\ProvidesPackage{taoesolutions}[2018/05/16 v1.0 Macros used to make solutions for The Art of Electronics 3rd ed.]

\usepackage{circuitikz}
\usepackage{pgfplots}
\usepackage{environ}
\usepackage{amsmath}
\usepackage{cancel}
\usepackage{enumitem}
\usepackage{float}
\usepackage[
  margin=1in,
  includefoot,
  footskip=30pt,
]{geometry}
\usepackage[toc]{multitoc}

\usetikzlibrary{external}
\tikzexternalize[prefix=tikz-cache/]
% \tikzexternalize[prefix=tikz-cache/, mode=list and make]

% Remove the "Chapter" label on each chapter
\usepackage{titlesec}
\titleformat{\chapter}[display]
    {\normalfont\bfseries}{}{0pt}{\huge}

% Define a consistent "Exercise" delineator
\newcommand{\ex}[1]{\section*{Exercise #1} \addcontentsline{toc}{section}{Exercise #1}}

\newcommand{\todo}[1]{\textcolor{red}{\textbf{TODO: #1}}}
\newcommand{\todoex}[1]{\ex{#1 \todo{write solution}}}
\newcommand{\mans}[1]{\boxed{#1}}
\newcommand{\tans}[1]{\framebox{#1}}

% Make easier use of EE order of magnitude notation
\usepackage{siunitx}
\sisetup{
    group-separator = {,}, 
    group-digits = integer
}

\newcommand{\Th}{\ensuremath{\text{Th}}} % Thevenin
\renewcommand{\in}{\ensuremath{\text{in}}} % In (for V_{In})
\newcommand{\out}{\ensuremath{\text{out}}}
\newcommand{\load}{\ensuremath{\text{load}}}
\newcommand{\source}{\ensuremath{\text{source}}}
\newcommand{\pp}{\ensuremath{\text{p-p}}}
\newcommand{\rms}{\ensuremath{\text{rms}}}
\newcommand{\ave}{\ensuremath{\text{ave}}} % average
\newcommand{\eq}{\ensuremath{\text{eq}}} % equivalent 

\NewEnviron{circuit}[2]{%
    \begin{figure}[H]
        \caption{#2}
        \label{#1}
        \begin{center}
        \begin{tikzpicture}[american]\draw
            \BODY
        ;
        \end{tikzpicture}
        \end{center}
        \end{figure}}

% \newenvironment{circuit}[2]% param1=label, param2=caption
%     {
%         \begin{figure}[H]
%         \caption{#2}
%         \label{#1}
        
%         \begin{center} 
%         % \centering
%         \begin{tikzpicture}[american]\draw
%     }
%     {
%         ;
%         \end{tikzpicture}
%         \end{center}
%         \end{figure}
%     }

\NewEnviron{plot}[2]{%
    \begin{figure}[H]
        \caption{#2}
        \label{#1}
        \begin{center}
        \begin{tikzpicture}[scale=0.8, samples=200]\draw
            \BODY
        ;
        \end{tikzpicture}
        \end{center}
        \end{figure}}

% \newenvironment{plot}[2]% param1=label, param2=caption
%     {
%         \begin{figure}[H]
%         \caption{#2}
%         \label{#1}
        
%         \begin{center} 
%         % \centering
%         \begin{tikzpicture}[scale=0.8, samples=200]\draw
%     }
%     {
%         ;
%         \end{tikzpicture}
%         \end{center}
%         \end{figure}
%     }
% Set first level of list to (a) format
\setlist[enumerate,1]{label=(\alph*)}

% Be sure to use \mans{<answer>} for math answers
% Use \tans{<answer>} for text answers